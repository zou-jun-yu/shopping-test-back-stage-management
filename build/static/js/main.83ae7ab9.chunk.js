(this["webpackJsonpshopping-test-back-stage-management"]=this["webpackJsonpshopping-test-back-stage-management"]||[]).push([[0],{165:function(e,t,a){},226:function(e,t,a){e.exports=a(408)},231:function(e,t,a){},232:function(e,t,a){},354:function(e,t,a){},396:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(19),i=a.n(c),s=(a(165),a(231),a(85)),l=a(38),u=a(34),m=a.n(u),d=a(45),g=a(43),p=a(415),f=a(414),h=a(219),b=a(40),y=a(419),E=a(420),v=(a(232),a(91)),C=a.n(v),O=function(){return localStorage.getItem("token")};C.a.interceptors.request.use((function(e){return e.headers.authorization=O(),e.cancelToken=new C.a.CancelToken((function(e){n=e})),e}),(function(e){return Promise.reject(e)})),C.a.interceptors.response.use((function(e){return n=null,e.data}),(function(e){return C.a.isCancel(e)?(console.log("\u8bf7\u6c42\u53d6\u6d88\u7684\u9519\u8bef",e.message),new Promise((function(){}))):(n=null,Promise.reject(e))}));var j=function(e,t){return C.a.post(e,t)},k=function(e,t){return C.a.get(e,{params:t})},w=function(e){return j("/api2/users/login",e)},N=function(e){return k("/api2/shopping/getSubCategories",{parentId:e})},x=function(e){return j("/api2/shopping/addOrUpdateCategory",e)},I=function(e){return j("/api2/shopping/addOrUpdateGoods",e)},S=function(e){return j("/api2/shopping/deleteUploadImage",{imageName:e})},L=function(){"function"===typeof n?n("\u5f3a\u5236\u53d6\u6d88\u8bf7\u6c42"):console.log("\u6ca1\u6709\u53ef\u53d6\u6d88\u7684\u8bf7\u6c42")};var D=function(e){var t=Object(r.useState)(!1),a=Object(g.a)(t,2),n=a[0],c=a[1],i=function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r,o,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,w(a);case 3:n=t.sent,r=n.status,o=n.data,i=n.msg,c(!1),0===r?(s=o.token,localStorage.setItem("token",s),e.history.push("/admin")):p.a.error({title:i});case 9:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement(f.a,{name:"normal_login",className:"login-form",initialValues:{username:"admin"},onFinish:i},o.a.createElement("h2",null,"\u7528\u6237\u767b\u5f55"),o.a.createElement(f.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u7528\u6237\u540d!"}]},o.a.createElement(h.a,{prefix:o.a.createElement(y.a,{className:"site-form-item-icon"}),placeholder:"\u7528\u6237\u540d"})),o.a.createElement(f.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801!"}]},o.a.createElement(h.a,{prefix:o.a.createElement(E.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u5bc6\u7801"})),o.a.createElement(f.a.Item,null,o.a.createElement(b.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:n},"\u767b\u5f55")))},M=a(410),_=a(69);a(354);var P=a(416),T=a(413),F=a(418),A=a(222),R=a(195),q=a(115),G=Object(r.createContext)(null),V=[{_id:"0",categoryName:"\u4e00\u7ea7\u5206\u7c7b\u5217\u8868",parentId:-1,_v:-1}],z=function(e,t){switch(t.type){case"clickSelectedCategoryChainNode":return e.slice(0,e.indexOf(t.selectedCategoryChainNode)+1);case"pushSelectedCategoryChainNode":return[].concat(Object(q.a)(e),[t.category]);case"getSelectedCategoryChainNodesFromGoodsDetail":return[].concat(V,Object(q.a)(t.goodsCategoryChainNodes));default:throw new Error}},U="http://localhost:5000",W=T.a.Meta;var B=function(e){var t=Object(r.useState)([]),a=Object(g.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(!1),s=Object(g.a)(i,2),l=s[0],u=s[1],m=Object(r.useContext)(G),d=m.selectedCategoryChainNodes,p=m.selectedCategoryChainNodesDispatch;return Object(r.useEffect)((function(){return d.length>=4?e.history.push("/admin/goodsManage/goodsList"):(u(!0),N(d[d.length-1]._id).then((function(e){var t=e.code,a=e.data,n=e.msg;u(!1),0===t?c(a.subCategories):A.b.error(n)}))),L}),[d,e.history]),o.a.createElement(R.a,{spinning:l,tip:"Loading..."},o.a.createElement("div",null,n.map((function(e){return o.a.createElement(T.a,{key:e._id,hoverable:!0,style:{float:"left",padding:10,margin:10},bodyStyle:{padding:0},cover:e.categoryImage?o.a.createElement("img",{alt:"\u5546\u54c1\u5206\u7c7b\u56fe\u7247",style:{height:105,width:105},src:U+"/images/uploads/"+e.categoryImage}):null,onClick:function(){p({type:"pushSelectedCategoryChainNode",category:e})}},o.a.createElement(W,{title:o.a.createElement("span",{style:{color:"#999999"}},e.categoryName),style:{textAlign:"center",width:105}}))}))))},K=a(42),J=a(72),H=a(411);var $=function(e){var t=Object(r.useState)([]),a=Object(g.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(!1),s=Object(g.a)(i,2),l=s[0],u=s[1],p=Object(r.useContext)(G).selectedCategoryChainNodes,f=Object(r.useState)([]),h=Object(g.a)(f,2),y=h[0],E=h[1],v=Object(r.useCallback)((function(){var e;u(!0),(e=p[p.length-1]._id,k("/api2/shopping/getGoodsList",{categoryId:e})).then((function(e){var t=e.code,a=e.data,n=e.msg;0===t?(a.goodsList.forEach((function(e){e.key=e._id})),E(a.goodsList),u(!1)):A.b.error(n)}))}),[p]);Object(r.useEffect)((function(){return v(),L}),[v]);var C={},O=[];y.length&&(C={goodsName:"\u5546\u54c1\u540d\u79f0",goodsDescription:"\u5546\u54c1\u63cf\u8ff0",marketPrice:"\u539f\u4ef7",nowPrice:"\u73b0\u4ef7",goodsImages:"\u5546\u54c1\u56fe\u7247",goodsAmount:"\u5e93\u5b58\u91cf",salesNumber:"\u5df2\u552e"},(O=Object.keys(C).map((function(e){var t={title:C[e],key:e,dataIndex:e,ellipsis:{showTitle:!1}};return"goodsImages"===e?Object(K.a)(Object(K.a)({},t),{},{width:200,render:function(e){return o.a.createElement(J.a,{placement:"left",title:e.map((function(e){return o.a.createElement("img",{src:U+"/images/uploads/"+e,alt:"\u5546\u54c1\u56fe\u7247",key:e,style:{height:150,width:150,margin:4}})}))},e.map((function(e){return o.a.createElement("img",{src:U+"/images/uploads/"+e,alt:"\u5546\u54c1\u56fe\u7247",key:e,style:{height:70,width:70,marginRight:2}})})))}}):Object(K.a)(Object(K.a)({},t),{},{width:"goodsDescription"===e?300:"auto",render:function(e){return o.a.createElement(J.a,{placement:"topLeft",title:e},e)}})}))).push({title:"\u64cd\u4f5c",key:"operation",render:function(t,a,n){return o.a.createElement("div",null,o.a.createElement(b.a,{onClick:function(){e.history.push("/admin/goodsManage/goodsDetail/".concat(a._id))}},"\u7f16\u8f91"))}}));var w=function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,j("/api2/shopping/deleteManyGoods",{deleteIdList:n});case 3:t=e.sent,a=t.code,r=t.msg,o=t.data,0===a?(console.log(o),A.b.success(r),c([]),v()):A.b.error(r),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N={selectedRowKeys:n,onChange:function(e){console.log("selectedRowKeys changed: ",e),c(e)}},x=n.length>0;return o.a.createElement("div",null,o.a.createElement("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between"}},o.a.createElement("div",null,o.a.createElement(b.a,{type:"primary",onClick:w,disabled:!x},"\u5220\u9664\u9009\u4e2d\u5546\u54c1"),o.a.createElement("span",{style:{marginLeft:8}},x?"\u5df2\u9009\u4e2d ".concat(n.length," \u79cd\u5546\u54c1"):"")),o.a.createElement(b.a,{onClick:function(){e.history.push("/admin/goodsManage/goodsDetail")}},"\u6dfb\u52a0\u5546\u54c1")),o.a.createElement(H.a,{rowSelection:N,columns:O,dataSource:y,loading:l,pagination:{defaultPageSize:2}}))},Q=a(143),X=a(144),Y=a(149),Z=a(145),ee=a(412),te=a(421),ae=function(e){Object(Y.a)(a,e);var t=Object(Z.a)(a);function a(e){var n;Object(Q.a)(this,a),(n=t.call(this,e)).resetState=function(){n.setState(n.initState)},n.getImgs=function(){return n.state.fileList.map((function(e){return e.name}))},n.handleCancel=function(){return n.setState({previewVisible:!1})},n.handlePreview=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||t.url.substring(t.url.lastIndexOf("/")+1)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,r,o,c,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.fileList,"done"!==(r=t.file).status){e.next=6;break}0===(o=r.response).code?(A.b.success(o.msg),c=o.data.src,(i=a[a.length-1]).url=c,i.name=i.url.substring(i.url.lastIndexOf("/")+1)):A.b.error(o.msg),e.next=11;break;case 6:if("removed"!==r.status){e.next=11;break}return e.next=9,S(r.name);case 9:0===(s=e.sent).code?A.b.success(s.msg):A.b.error(s.msg);case 11:n.setState({fileList:a});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.initState={previewVisible:!1,previewImage:"",previewTitle:"",fileList:[]};var r=n.props.images.map((function(e,t){return{uid:-t+"",name:e,status:"done",url:U+"/images/uploads/"+e}}));return n.state=Object(K.a)(Object(K.a)({},n.initState),{},{fileList:r}),n}return Object(X.a)(a,[{key:"componentWillUnmount",value:function(){L()}},{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,r=e.previewTitle,c=o.a.createElement("div",null,o.a.createElement(te.a,null),o.a.createElement("div",{className:"ant-upload-text"},"Upload"));return o.a.createElement("div",{className:"clearfix"},o.a.createElement(ee.a,{action:"/api2/shopping/uploadImage",listType:"picture-card",fileList:n,accept:"image/*",name:"goods",onPreview:this.handlePreview,onChange:this.handleChange},n.length>=(this.props.maxNumber||5)?null:c),o.a.createElement(p.a,{visible:t,title:r,footer:null,onCancel:this.handleCancel},o.a.createElement("img",{alt:"\u5546\u54c1\u56fe\u7247",style:{width:"100%"},src:a})))}}]),a}(o.a.Component),ne=a(417),re=function(e){Object(Y.a)(a,e);var t=Object(Z.a)(a);function a(e){var n;return Object(Q.a)(this,a),(n=t.call(this,e)).resetState=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getSubOptions("0");case 2:t=e.sent,n.setState({goodsCategoryChainNodesIds:[],options:t});case 4:case"end":return e.stop()}}),e)}))),n.provideGoodsCategoryChainNodes=function(){return n.state.goodsCategoryChainNodesIds},n.onChange=function(e){n.setState({goodsCategoryChainNodesIds:e})},n.loadData=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.length,(r=t[a-1]).loading=!0,e.next=5,n.getSubOptions(r.value,2===a);case 5:o=e.sent,r.loading=!1,r.children=o,n.setState({options:Object(q.a)(n.state.options)});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getSubOptions=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n,r,o,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]&&c[1],e.next=3,N(t);case 3:return n=e.sent,r=n.data.subCategories,o=r.map((function(e){return{value:e._id,label:e.categoryName,isLeaf:a}})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={options:[],goodsCategoryChainNodesIds:n.props.goodsCategoryChainNodes?n.props.goodsCategoryChainNodes.map((function(e){return e._id})):null},n}return Object(X.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.goodsCategoryChainNodesIds){e.next=8;break}return e.next=4,this.getSubOptions("0");case 4:a=e.sent,this.setState({options:a}),e.next=15;break;case 8:n=this.props.goodsCategoryOptions,r=n.map((function(e){return{value:e._id,label:e.categoryName,isLeaf:!1}})),(o=r.find((function(e){return e.value===t[0]}))).children=n.filter((function(e){return e._id===t[0]}))[0].children.map((function(e){return{value:e._id,label:e.categoryName,isLeaf:!1}})),(o=o.children.find((function(e){return e.value===t[1]}))).children=n.filter((function(e){return e._id===t[0]}))[0].children.filter((function(e){return e._id===t[1]}))[0].children.map((function(e){return{value:e._id,label:e.categoryName,isLeaf:!0}})),this.setState({options:r});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){L()}},{key:"render",value:function(){var e=this.state.goodsCategoryChainNodesIds;return o.a.createElement(ne.a,{options:this.state.options,loadData:this.loadData,onChange:this.onChange,defaultValue:e,changeOnSelect:!0})}}]),a}(o.a.Component);a(396);var oe=function(e){var t=f.a.useForm(),a=Object(g.a)(t,1)[0],n=Object(r.useRef)(null),c=Object(r.useRef)(null),i={wrapperCol:{offset:4,span:12}},s=Object(r.useState)(null),l=Object(g.a)(s,2),u=l[0],p=l[1],y=Object(r.useContext)(G).selectedCategoryChainNodesDispatch;Object(r.useEffect)((function(){var t=e.match.params.id;return t&&function(e){return k("/api2/shopping/getGoodsDetail",{_id:e})}(t).then((function(e){var t=e.code,a=e.msg,n=e.data;0===t?(p(Object(K.a)(Object(K.a)({},n.goodsDetail),{},{goodsCategoryChainNodes:n.goodsCategoryChainNodes,goodsCategoryOptions:n.goodsCategoryOptions})),y({type:"getSelectedCategoryChainNodesFromGoodsDetail",goodsCategoryChainNodes:n.goodsCategoryChainNodes})):A.b.error(a)})),L}),[e.match.params.id,y]);var E=function(){a.setFieldsValue({goodsName:"",goodsDescription:"",marketPrice:void 0,nowPrice:void 0,goodsAmount:void 0}),c.current.resetState(),n.current.resetState()},v=function(){var t=Object(d.a)(m.a.mark((function t(a){var r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.marketPrice*=1,a.nowPrice*=1,r=Object(K.a)(Object(K.a)({},a),{},{categoryId:c.current.provideGoodsCategoryChainNodes().pop(),goodsImages:n.current.getImgs()}),e.match.params.id&&(r._id=e.match.params.id),t.next=6,I(r);case 6:0===(o=t.sent).code?(A.b.success(o.msg),E()):A.b.error(o.msg);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return u||!e.match.params.id?o.a.createElement(f.a,Object.assign({},{labelCol:{span:4},wrapperCol:{span:12}},{name:"basic",form:a,initialValues:u?{goodsName:u.goodsName,goodsDescription:u.goodsDescription,marketPrice:u.marketPrice,nowPrice:u.nowPrice,goodsAmount:u.goodsAmount}:{},onFinish:v,onFinishFailed:function(e){A.b.error("\u4fdd\u5b58\u5546\u54c1\u5931\u8d25")}}),o.a.createElement(f.a.Item,{label:"\u5546\u54c1\u5206\u7c7b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5546\u54c1\u5206\u7c7b"}]},o.a.createElement(re,{ref:c,goodsCategoryChainNodes:u?u.goodsCategoryChainNodes:null,goodsCategoryOptions:u?u.goodsCategoryOptions:null})),o.a.createElement(f.a.Item,{label:"\u5546\u54c1\u540d\u79f0 ",name:"goodsName",rules:[{required:!0,message:"\u8bf7\u9009\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0"}]},o.a.createElement(h.a,null)),o.a.createElement(f.a.Item,{label:"\u5546\u54c1\u63cf\u8ff0",name:"goodsDescription"},o.a.createElement(h.a.TextArea,null)),o.a.createElement(f.a.Item,{label:"\u539f\u4ef7",name:"marketPrice",rules:[{required:!0,message:"\u8bf7\u9009\u8bf7\u8f93\u5165\u5546\u54c1\u539f\u4ef7"}]},o.a.createElement(h.a,{type:"number",addonAfter:"\u5143"})),o.a.createElement(f.a.Item,{label:"\u73b0\u4ef7",name:"nowPrice",rules:[{required:!0,message:"\u8bf7\u9009\u8bf7\u8f93\u5165\u5546\u54c1\u73b0\u4ef7"}]},o.a.createElement(h.a,{type:"number",addonAfter:"\u5143"})),o.a.createElement(f.a.Item,{label:"\u5546\u54c1\u6570\u91cf",name:"goodsAmount",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6b64\u5546\u54c1\u7684\u6570\u91cf"}]},o.a.createElement(h.a,{type:"number"})),o.a.createElement(f.a.Item,{label:"\u4e0a\u4f20\u56fe\u7247"},o.a.createElement(ae,{ref:n,images:u?u.goodsImages:[]})),o.a.createElement(f.a.Item,i,o.a.createElement(b.a,{type:"primary",htmlType:"submit"},"\u4fdd\u5b58"),o.a.createElement(b.a,{htmlType:"button",onClick:E},"\u6e05\u7a7a"))):"Loading..."},ce=a(409),ie=a(104),se=a(62),le=P.a.Link,ue=Object(l.g)((function(e){var t=Object(r.useRef)(null),a=Object(r.useRef)(null),n=Object(r.useState)({ModalTitle:"",visible:!1,confirmLoading:!1}),c=Object(g.a)(n,2),i=c[0],s=c[1],l=Object(r.useContext)(G),u=l.selectedCategoryChainNodes,f=l.selectedCategoryChainNodesDispatch,b=u[u.length-1],y=Object(r.useState)(b.categoryName),E=Object(g.a)(y,2),v=E[0],C=E[1];Object(r.useEffect)((function(){C(b.categoryName)}),[b.categoryName]);var O=function(e){s({ModalTitle:e,visible:!0,confirmLoading:!1}),"\u6dfb\u52a0\u5206\u7c7b"===e&&C("")},k=function(){var n=Object(d.a)(m.a.mark((function n(){var r,o,c,l,d,g,p;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s((function(e){return Object(K.a)(Object(K.a)({},e),{},{confirmLoading:!0})})),n.t0=i.ModalTitle,n.next="\u4fee\u6539\u5206\u7c7b"===n.t0?4:"\u5220\u9664\u5206\u7c7b"===n.t0?10:"\u6dfb\u52a0\u5206\u7c7b"===n.t0?19:25;break;case 4:return c=Object(K.a)(Object(K.a)({},b),{},{categoryName:v}),a.current.getImgs().length?c.categoryImage=a.current.getImgs()[0]:delete c.categoryImage,n.next=8,x(c);case 8:return r=n.sent,n.abrupt("break",26);case 10:if(!b.categoryImage){n.next=14;break}return n.next=13,S(b.categoryImage);case 13:o=n.sent;case 14:return n.next=16,m=b._id,j("/api2/shopping/deleteCategory",{_id:m});case 16:return r=n.sent,o&&0!==o.code&&(r=o),n.abrupt("break",26);case 19:return l={parentId:b._id,categoryName:v},t.current.getImgs().length&&(l.categoryImage=t.current.getImgs()[0]),n.next=23,x(l);case 23:return r=n.sent,n.abrupt("break",26);case 25:throw new Error("\u64cd\u4f5c\u7c7b\u578b\u9519\u8bef");case 26:g=(d=r).code,p=d.msg,0===g?A.b.success(p):A.b.error(p),s({ModalTitle:"",visible:!1,confirmLoading:!1}),f({type:"clickSelectedCategoryChainNode",selectedCategoryChainNode:u[0]}),e.history.push("/admin/goodsManage/category");case 31:case"end":return n.stop()}var m}),n)})));return function(){return n.apply(this,arguments)}}(),w=i.visible,N=i.confirmLoading,I=i.ModalTitle;return o.a.createElement("div",{style:{fontSize:16}},o.a.createElement(ce.a,{size:50},u.length<4?o.a.createElement(le,{onClick:function(){return O("\u6dfb\u52a0\u5206\u7c7b")}},"\u6dfb\u52a0\u5206\u7c7b"):null,u.length>1?o.a.createElement(o.a.Fragment,null,o.a.createElement(le,{onClick:function(){return O("\u4fee\u6539\u5206\u7c7b")}},"\u4fee\u6539\u5206\u7c7b"),o.a.createElement(le,{onClick:function(){return O("\u5220\u9664\u5206\u7c7b")}},"\u5220\u9664\u5206\u7c7b")):null),o.a.createElement(p.a,{title:I,visible:w,onOk:k,confirmLoading:N,onCancel:function(){s({ModalTitle:"",visible:!1,confirmLoading:!1}),C(b.categoryName)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},"\u4fee\u6539\u5206\u7c7b"===I?o.a.createElement(o.a.Fragment,null,o.a.createElement(ie.a,{justify:"space-around",align:"middle",gutter:[10,30]},o.a.createElement(se.a,{span:4},"\u5206\u7c7b\u540d\u79f0\uff1a"),o.a.createElement(se.a,{span:20},o.a.createElement(h.a,{value:v,onChange:function(e){C(e.target.value)}}))),b.categoryImage?o.a.createElement(ie.a,{gutter:[10,30]},o.a.createElement(se.a,{offset:4},o.a.createElement(ae,{ref:a,images:[b.categoryImage],maxNumber:1}))):null):"\u5220\u9664\u5206\u7c7b"===I?o.a.createElement(ie.a,{justify:"space-around",align:"middle",gutter:[10,30]},o.a.createElement(se.a,{span:6},"\u786e\u8ba4\u5220\u9664\u5206\u7c7b:"),o.a.createElement(se.a,{span:16},b.categoryName,"\uff1f")):o.a.createElement(o.a.Fragment,null,o.a.createElement(ie.a,{justify:"space-around",align:"middle",gutter:[10,30]},o.a.createElement(se.a,{span:4},"\u4e0a\u7ea7\u5206\u7c7b\uff1a"),o.a.createElement(se.a,{span:20},u.map((function(e){return" / "+e.categoryName})))),o.a.createElement(ie.a,{justify:"space-around",align:"middle",gutter:[10,30]},o.a.createElement(se.a,{span:4},"\u5206\u7c7b\u540d\u79f0\uff1a"),o.a.createElement(se.a,{span:20},o.a.createElement(h.a,{value:v,onChange:function(e){C(e.target.value)}}))),3===u.length?o.a.createElement(ie.a,{gutter:[10,30]},o.a.createElement(se.a,{offset:4},o.a.createElement(ae,{ref:t,maxNumber:1,images:[]}))):null)))})),me=P.a.Link;var de=[{path:"/admin/goodsManage",component:function(e){var t=Object(r.useContext)(G),a=t.selectedCategoryChainNodes,n=t.selectedCategoryChainNodesDispatch;return o.a.createElement(T.a,{title:o.a.createElement(F.a,{style:{margin:"16px 0",fontSize:16}},a.map((function(t){return o.a.createElement(F.a.Item,{key:t._id},o.a.createElement(me,{onClick:function(){n({type:"clickSelectedCategoryChainNode",selectedCategoryChainNode:t}),e.history.push("/admin/goodsManage/category")}},t.categoryName))}))),bordered:!1,extra:o.a.createElement(ue,null),style:{height:"100%",overflow:"auto"},headStyle:{fontSize:20}},o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/admin/goodsManage/category",render:function(e){return o.a.createElement(B,e)}}),o.a.createElement(l.b,{path:"/admin/goodsManage/goodsList",render:function(e){return o.a.createElement($,e)}}),o.a.createElement(l.b,{path:"/admin/goodsManage/goodsDetail",exact:!0,render:function(e){return o.a.createElement(oe,e)}}),o.a.createElement(l.b,{path:"/admin/goodsManage/goodsDetail/:id",render:function(e){return o.a.createElement(oe,e)}}),o.a.createElement(l.a,{to:"/admin/goodsManage/category"})))}},{path:"/admin/order",component:function(){return o.a.createElement("div",null,"Order")}}],ge=M.a.Header,pe=M.a.Content,fe=M.a.Sider;var he=function(e){var t=Object(r.useReducer)(z,V),a=Object(g.a)(t,2),n=a[0],c=a[1];return O()?o.a.createElement(M.a,{className:"layout"},o.a.createElement(ge,{className:"header"},"\u7535\u5546\u7f51\u7ad9\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf",o.a.createElement("span",{onClick:function(){localStorage.removeItem("token"),e.history.push("/login")}},"\u9000\u51fa\u767b\u5f55")),o.a.createElement(M.a,null,o.a.createElement(fe,{width:200,className:"site-layout-background"},o.a.createElement(_.a,{mode:"inline",selectedKeys:[e.location.pathname.split("/")[2]],style:{height:"100%",borderRight:0,fontSize:20}},o.a.createElement(_.a.Item,{key:"goodsManage"},o.a.createElement(s.b,{to:"/admin/goodsManage"},"\u5546\u54c1\u7ba1\u7406")),o.a.createElement(_.a.Item,{key:"order"},o.a.createElement(s.b,{to:"/admin/order"},"\u8ba2\u5355\u7ba1\u7406")))),o.a.createElement(M.a,{style:{padding:"0 24px 24px"}},o.a.createElement(pe,{className:"site-layout-background content",style:{padding:24,margin:0,height:"100%"}},o.a.createElement(G.Provider,{value:{selectedCategoryChainNodes:n,selectedCategoryChainNodesDispatch:c}},o.a.createElement(l.d,null,de.map((function(e){return o.a.createElement(l.b,{path:e.path,key:e.path,component:e.component})})),o.a.createElement(l.a,{to:"/admin/order"}))),o.a.createElement("footer",{className:"footer"}))))):o.a.createElement(l.a,{to:"/login"})};var be=function(){return o.a.createElement(s.a,{basename:"back-manage"},o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/login",render:function(e){return o.a.createElement(D,e)}}),o.a.createElement(l.b,{path:"/admin",render:function(e){return o.a.createElement(he,e)}}),o.a.createElement(l.a,{to:"/admin",from:"/"}),o.a.createElement(l.a,{to:"/404"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(407);i.a.render(o.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[226,1,2]]]);
//# sourceMappingURL=main.83ae7ab9.chunk.js.map